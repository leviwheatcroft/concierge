<!DOCTYPE html>
<html>
<head>
  <title>README.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="doc-style.css" />
  <script src="doc-filelist.js"></script>
  <script>
    var relativeDir = "", thisFile = "README.md", defaultSidebar = true;
  </script>
  <script src="doc-script.js"></script>
</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">
      <div class="heading h3">
        <a href="#concierge">Concierge</a>
      </div>
      <div class="heading h3">
        <a href="#warning">warning</a>
      </div>
      <div class="heading h3">
        <a href="#installation%20%26amp%3B%20setup%20(quick%20start)">installation &amp; setup (quick start)</a>
      </div>
      <div class="heading h3">
        <a href="#installation%20%26amp%3B%20setup%20(detailed)">installation &amp; setup (detailed)</a>
      </div>
      <div class="heading h3">
        <a href="#command%20line%20usage">command line usage</a>
      </div>
      <div class="heading h3">
        <a href="#sabnzbd%20post%20processing">sabnzbd post processing</a>
      </div>
      <div class="heading h3">
        <a href="#more%20documentation">more documentation</a>
      </div>
      <div class="heading h3">
        <a href="#support">Support</a>
      </div>
    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container"><div class="docs markdown">
<div class="pilwrap" id="concierge">
  <h3>
    <a href="#concierge" name="concierge" class="pilcrow">&#182;</a>
    Concierge
  </h3>
</div>


<p>A nodejs CLI app to curate scene movie releases.</p>

<ul>
<li>detects movie from either .nfo or path, reasonably accurate</li>
<li>clean code &amp; cool plugin architecture</li>
<li>configurable naming convention</li>
<li>works nicely as a sabnzbd post processing script</li>
</ul>


<div class="pilwrap" id="warning">
  <h3>
    <a href="#warning" name="warning" class="pilcrow">&#182;</a>
    warning
  </h3>
</div>


<p>So far I've only done some really basic testing on my own machine, so if you
decide to give this a try, please don't point it at your media collection and
let it go, because it will likely do some catastrophic damage.</p>


<div class="pilwrap" id="installation%20%26amp%3B%20setup%20(quick%20start)">
  <h3>
    <a href="#installation%20%26amp%3B%20setup%20(quick%20start)" name="installation%20%26amp%3B%20setup%20(quick%20start)" class="pilcrow">&#182;</a>
    installation &amp; setup (quick start)
  </h3>
</div>


<ul>
<li>you'll need node and avprobe (from <code>lib-avtools</code> package)</li>
<li>then clone this repo, then <code>npm install</code></li>
<li>create <code>config.ini</code> from <code>config.example.ini</code></li>
<li>set your tmdb apiKey, parent, and output</li>
<li>run with <code>node concierge.js</code></li>
</ul>


<div class="pilwrap" id="installation%20%26amp%3B%20setup%20(detailed)">
  <h3>
    <a href="#installation%20%26amp%3B%20setup%20(detailed)" name="installation%20%26amp%3B%20setup%20(detailed)" class="pilcrow">&#182;</a>
    installation &amp; setup (detailed)
  </h3>
</div>


<p><strong>install node</strong></p>

<p>This used to be really clunky, but these days it's much better, so I'd avoid
googling it and following the first guide you see because lots has changed.</p>

<p>Best way is to follow the instructions from <a href="https://github.com/nodesource/distributions">nodesource</a>
which will go something like this:</p>

<blockquote>
  <p>you shouldn't just run scripts you download from the interwebs willy nilly,
  especially as sudo.. unless like me, you like to live dangerously.</p>
</blockquote>

<div class='highlight'><pre><code language=''>sudo curl -sL https://deb.nodesource.com/setup_5.x | bash -
sudo apt-get install -y nodejs
</code></pre></div>

<p><strong>install avprobe</strong></p>

<div class='highlight'><pre><code language=''>sudo apt-get install libav-tools
</code></pre></div>

<p><strong>clone &amp; populate</strong></p>

<div class='highlight'><pre><code language=''>git clone &lt;address&gt;
cd &lt;folder&gt;
npm install
</code></pre></div>

<p><strong>setup</strong></p>

<p>rename <code>./config.example.ini</code> to <code>config.ini</code>, and edit it as you like.
you can also <code>node concierge.js -h</code> to get a list of options. All (most?)
options can be set from CLI args or from config.ini, CLI takes precedence.</p>

<ul>
<li>You'll need an api key from themoviedb</li>
<li>set the path to your parent directory</li>
<li>set path to output or leave it as 'inPlace'</li>
</ul>

<p><strong>run</strong></p>

<div class='highlight'><pre><code language=''>nodejs concierge.js
</code></pre></div>


<div class="pilwrap" id="command%20line%20usage">
  <h3>
    <a href="#command%20line%20usage" name="command%20line%20usage" class="pilcrow">&#182;</a>
    command line usage
  </h3>
</div>


<p>Concierge will read options from it's <code>config.ini</code> but those options will be
overwritten by anything you pass in from the command line.</p>

<p>Suppose you have a <code>/srv/downloads/movies/</code> directory and you want concierge
to process all children of that directory, you add something like
<code>source=/srv/downloads/movies/</code> to your <code>config.ini</code>.</p>

<p>If for whatever reason you wanted concierge to process a single release, you
use the <code>--target</code> option which only ever processes a single directory (so
<code>--source</code> will be ignored).</p>

<div class='highlight'><pre><code language=''>nodejs concierge.js --target /downloads/movies/some-specific-release
</code></pre></div>

<p><code>-h</code> or <code>--help</code> will give you the full list of command line options, most
of which are self explanatory. All command line options are also documented in
<code>config.example.ini</code>.</p>


<div class="pilwrap" id="sabnzbd%20post%20processing">
  <h3>
    <a href="#sabnzbd%20post%20processing" name="sabnzbd%20post%20processing" class="pilcrow">&#182;</a>
    sabnzbd post processing
  </h3>
</div>


<p>You just specify the included <code>conciergeSabnzbd.sh</code> as your post processing
script. You'll need to edit this that script to show the correct path to
concierge. Sabnzbd expects all your post processing scripts to be in one folder,
so if you're using sickbeard post processing or whatever just copy
<code>conciergeSabnzbd.sh</code> to your sickbeard autoProcessTV directory or wherever.</p>


<div class="pilwrap" id="more%20documentation">
  <h3>
    <a href="#more%20documentation" name="more%20documentation" class="pilcrow">&#182;</a>
    more documentation
  </h3>
</div>


<ul>
<li><a href="http://leviwheatcroft.github.io/concierge/config.example.ini">config.example.ini</a>
will give you a good run down of the available options and configuration.</li>
<li><a href="http://leviwheatcroft.github.io/concierge/docs/lib/plugins/onNoMedia.js.html">onNoMedia.js</a>
is an example of how to write a plugin</li>
<li><a href="http://leviwheatcroft.github.io/concierge/docs/lib/fsItems.js.html">fsItems.js</a>
contains the Directory class which is used by pretty much every module.</li>
<li><a href="http://leviwheatcroft.github.io/concierge/docs/lib/metaTmdb.js.html">metaTmdb</a>
is where the "magic" happens</li>
</ul>


<div class="pilwrap" id="support">
  <h3>
    <a href="#support" name="support" class="pilcrow">&#182;</a>
    Support
  </h3>
</div>


<p>Post an issue here or pm /u/Mr5o1 on reddit.</p></div>
  </div>
</body>
</html>
